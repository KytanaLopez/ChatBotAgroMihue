<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgroMihue â€“ Chat de Arroz</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: url('https://images.unsplash.com/photo-1524594081293-190a2fe0baae?auto=format&fit=crop&w=1200&q=80') no-repeat center/cover;
      padding: 25px;
    }

    .container {
      max-width: 750px;
      margin: auto;
      background: rgba(255,255,255,0.92);
      padding: 25px;
      border-radius: 18px;
      box-shadow: 0 0 18px rgba(0,0,0,0.25);
    }

    h1 {
      text-align: center;
      color: #1a5fb4;
      font-size: 32px;
    }

    /* Estilo Messenger */
    #chatbox {
      border: 1px solid #ccc;
      padding: 12px;
      height: 350px;
      overflow-y: auto;
      background: #f0f2f5;
      border-radius: 12px;
    }

    .msg {
      margin: 10px 0;
      padding: 10px 14px;
      border-radius: 18px;
      max-width: 75%;
      font-size: 15px;
    }

    .user {
      background: #0084ff;
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }

    .bot {
      background: #e4e6eb;
      color: #1c1e21;
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }

    .options {
      margin-top: 15px;
      background: #eaf3ff;
      padding: 15px;
      border-radius: 12px;
      border: 1px solid #c8dfff;
    }

    label {
      display: block;
      margin: 8px 0;
      font-size: 15px;
    }

    button {
      margin-top: 12px;
      width: 100%;
      padding: 12px;
      background: #1a5fb4;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 17px;
      cursor: pointer;
    }

    button:hover {
      background: #144a8a;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŒ¾ AgroMihue â€“ Asistente del Cultivo de Arroz</h1>

    <div class="options">
      <h3>Selecciona el tema sobre arroz:</h3>

      <label><input type="checkbox" name="tema" value="siembra"> Siembra</label>
      <label><input type="checkbox" name="tema" value="riego"> Riego</label>
      <label><input type="checkbox" name="tema" value="plagas"> Plagas</label>
      <label><input type="checkbox" name="tema" value="fertilizacion"> FertilizaciÃ³n</label>
      <label><input type="checkbox" name="tema" value="suelo"> Suelo</label>
      <label><input type="checkbox" name="tema" value="enfermedades"> Enfermedades</label>
      <label><input type="checkbox" name="tema" value="clima"> Clima</label>
      <label><input type="checkbox" name="tema" value="cosecha"> Cosecha</label>

      <button onclick="enviarSeleccion()">Preguntar</button>
    </div>

    <div id="chatbox"></div>
  </div>

  <script>
    const arroz = {
      siembra: "La siembra del arroz requiere una planificaciÃ³n cuidadosa. âœ” Se recomienda nivelar el terreno para garantizar lÃ¡mina uniforme; âœ” usar semillas certificadas; âœ” densidad 80â€“120 kg/ha; âœ” siembra directa o por trasplante segÃºn el sistema; âœ” la germinaciÃ³n Ã³ptima ocurre entre 28â€“32 Â°C; âœ” el establecimiento del cultivo mejora con humedad constante las primeras semanas.",
      riego: "El arroz demanda condiciones de inundaciÃ³n controlada. âœ” Mantener entre 5 y 10 cm de lÃ¡mina de agua; âœ” evitar estrÃ©s hÃ­drico en etapa de macollamiento; âœ” el riego intermitente puede ahorrar hasta 30% de agua; âœ” cuidar la entrada y salida del agua para evitar arrastre de nutrientes; âœ” monitorear salinidad en zonas propensas.",
      plagas: "Las plagas del arroz incluyen: âœ” Barrenador del tallo (daÃ±a internamente el tallo, causando â€˜corazÃ³n muertoâ€™); âœ” Chinches (afectan llenado del grano); âœ” Caracol manzana (devora plÃ¡ntulas); âœ” Ãfidos (transmiten enfermedades). Manejo: âœ” usar variedades tolerantes; âœ” monitoreo semanal; âœ” control biolÃ³gico; âœ” aplicaciones focalizadas segÃºn umbral econÃ³mico.",
      fertilizacion: "La fertilizaciÃ³n del arroz debe basarse en anÃ¡lisis de suelo. âœ” NitrÃ³geno: 60â€“120 kg/ha fraccionados en 2â€“3 aplicaciones; âœ” FÃ³sforo: esencial en establecimiento; âœ” Potasio: evita encamado y mejora llenado; âœ” Micronutrientes como Zn pueden ser necesarios en suelos inundados. âœ” La fertilizaciÃ³n balanceada incrementa el rendimiento y reduce enfermedades.",
      suelo: "El cultivo prospera mejor en: âœ” suelos arcillosos o franco-arcillosos; âœ” buena retenciÃ³n de agua; âœ” pH ideal 5.5â€“6.5; âœ” nivelaciÃ³n milimÃ©trica; âœ” presencia moderada de materia orgÃ¡nica. âœ” Recomendado realizar anÃ¡lisis fÃ­sico-quÃ­mico antes de cada campaÃ±a.",
      enfermedades: "Enfermedades comunes: âœ” Pyricularia o quemado (manchas en hojas y panÃ­culas); âœ” AÃ±ublo de la vaina; âœ” Mancha parda. Manejo: âœ” semillas certificadas; âœ” fertilizaciÃ³n equilibrada evitando excesos de nitrÃ³geno; âœ” rotaciÃ³n; âœ” control quÃ­mico en etapas crÃ­ticas; âœ” evitar humedad excesiva en follaje.",
      clima: "El arroz necesita: âœ” temperaturas entre 24â€“30 Â°C; âœ” alta luminosidad; âœ” humedad ambiental elevada; âœ” ausencia de vientos fuertes en floraciÃ³n; âœ” riesgo de pÃ©rdidas bajo 20 Â°C. âœ” Las condiciones climÃ¡ticas influyen directamente en macollamiento, floraciÃ³n y llenado del grano.",
      cosecha: "La cosecha se recomienda cuando el grano estÃ¡ al 20â€“24% de humedad. âœ” Realizar pruebas de mordida y corte; âœ” evitar cosechar muy tarde para reducir desgrane; âœ” calibrar maquinaria; âœ” secar el grano a 12â€“14% para almacenamiento; âœ” evitar contaminaciÃ³n con impurezas."
    };

    function chatbot(p) {
      return arroz[p] || "Selecciona un tema vÃ¡lido.";
    }

    function enviarSeleccion() {
      const seleccionados = [...document.querySelectorAll('input[name="tema"]:checked')].map(e => e.value);
      if (seleccionados.length === 0) return alert("Selecciona al menos un tema.");

      const chatbox = document.getElementById("chatbox");

      seleccionados.forEach(sel => {
        chatbox.innerHTML += `<div class='msg user'>${sel}</div>`;
        const respuesta = chatbot(sel);
        chatbox.innerHTML += `<div class='msg bot'>${respuesta}</div>`;
      });

      chatbox.scrollTop = chatbox.scrollHeight;
    }
  </script>
</body>
</html>
